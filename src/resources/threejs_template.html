<html>
<head>
  <style>
  html, body { width: 100%; height: 100%; }
  body { margin: 0; overflow: hidden; }
  canvas { width: 100%; height: 100%; }
  </style>
</head>
<body>
  <script src='js/three.js'></script>
  <script src='_JAVASCRIPT_FILENAME_'></script>

  <script>
    function buildScene() {
      var scene = new THREE.Scene();
      scene.background = new THREE.Color(_BACKGROUND_COLOR_);

      for (let i = 0; i < ghglAttributes.length; i++) {
          var geometry = new THREE.BufferGeometry();
_GEOMETRY_ATTRIBUTES_

          // specify custom uniforms and attributes for shaders
          // Uniform types: https://github.com/mrdoob/three.js/wiki/Uniforms-types
          material = new THREE.ShaderMaterial({
              uniforms: {
_UNIFORMS_
              },
              vertexShader: `
_VERTEX_SHADER_
      `,
              fragmentShader: `
_FRAGMENT_SHADER_
      `,
              transparent: true
          });

          var sceneObject = new THREE._THREE_OBJECT_TYPE_(geometry, material);
          scene.add(sceneObject);
      }
      return scene;
    }

  function getCamera() {
    var aspectRatio = window.innerWidth / window.innerHeight;
    let width = 250.0
    let height = width / aspectRatio;
    var camera = new THREE.OrthographicCamera(width / - 2, width / 2, height / 2, height / - 2, 1, 1000 );
    camera.position.set(0, 1, 10);
    return camera;
  }

  function getRenderer() {
    var renderer = new THREE.WebGLRenderer({antialias: true});
    renderer.setPixelRatio(window.devicePixelRatio);
    renderer.setSize(window.innerWidth, window.innerHeight);
    document.body.appendChild(renderer.domElement);
    return renderer;
  }

  function render() {
    requestAnimationFrame(render);
    if( material.uniforms['_time']!=null)
      material.uniforms._time.value = clock.getElapsedTime();
    renderer.render(scene, camera);
  }

  function onWindowResize(){
    renderer.setSize( window.innerWidth, window.innerHeight );
  }

  var material;
  var clock = new THREE.Clock();
  clock.start();
  var scene = buildScene();
  var camera = getCamera();
  var renderer = getRenderer();
  renderer.debug.checkShaderErrors = true;

  window.addEventListener('resize', onWindowResize, false);
  render();
  </script>
</body>
</html>
